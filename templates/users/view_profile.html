{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-4">
  <h3>{{ user.get_full_name }}'s Profile</h3>
  <p class="text-muted">Role
{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-4">
  <h3>My Profile ({{ user.role|title }})</h3>

  <div class="card p-3 mt-3 shadow-sm">
    <div class="row">
      <div class="col-md-3 text-center">
        {% if user.profile_picture %}
          <img src="{{ user.profile_picture.url }}" alt="Profile Picture" class="img-thumbnail mb-3" style="max-width:150px;">
        {% else %}
          <img src="{% static 'img/default-avatar.png' %}" alt="Profile Picture" class="img-thumbnail mb-3" style="max-width:150px;">
        {% endif %}
      </div>
      <div class="col-md-9">
        <table class="table table-sm">
          <tr><th>Username</th><td>{{ user.username }}</td></tr>
          <tr><th>Full Name</th><td>{{ user.first_name }} {{ user.last_name }}</td></tr>
          <tr><th>Email</th><td>{{ user.email }}</td></tr>
          <tr><th>Role</th><td>{{ user.role|title }}</td></tr>
          <tr><th>Gender</th><td>{{ user.gender }}</td></tr>
          <tr><th>Date of Birth</th><td>{{ user.date_of_birth }}</td></tr>
          <tr><th>Address</th><td>{{ user.address }}</td></tr>
          <tr><th>Age</th><td>{{ user.age }}</td></tr>
          <tr><th>Class</th><td>{{ user.student_class }}</td></tr>

          {% if user.role == "admin" or user.role == "teacher" %}
        
            <tr><th>Subject Assigned</th><td>{{ user.subject_assigned }}</td></tr>
            <tr><th>Qualification</th><td>{{ user.qualification }}</td></tr>
            <tr><th>Years of Experience</th><td>{{ user.years_of_experience }}</td></tr>
            <tr><th>Next of Kin</th><td>{{ user.next_of_kin }}</td></tr>
            <tr><th>Next of Kin Phone</th><td>{{ user.next_of_kin_phone }}</td></tr>
          {% else %}
            --
          {% endif %}
        </table>
      </div>
    </div>
  </div>

  <div class="mt-3">
    <a href="{% url 'edit_profile' %}" class="btn btn-primary">Edit Profile</a>
    {% if user.role == "student" %}
      <a href="{% url 'student_dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
    {% elif user.role == "teacher" %}
      <a href="{% url 'teacher_dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
    {% else %}
      <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Back to Dashboard</a>
    {% endif %}
  </div>
</div>
{% endblock %}
